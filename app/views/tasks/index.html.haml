%h1#tasks-list-title{style: "text-align:center;"} Not Turned In
%button{id: "switch-hide-turned-in", class: "btn btn-info btn-large"} Switch Turned-In

-# TODO can I typedef this thing?
%table.table.table-striped.datatable.table-responsive.table-bordered.table-hover#tasks-list
  %thead
    %tr
      -# this first column is for sorting
      %th
      %th Duedate
      %th Name
      %th Priority
      %th Category
      %th Time spent so far
      -# complete
      %th
      -#  turned-in
      %th
      -# delete
      %th

  %tbody
    - @tasks.each do |task|
      %tr{ class: [task.index_css_class, task.turned_in_css_class] }
        -# this sorting column is made with javascript in tasks.js (though it's broken...)
        %td{ class: 'sort-col' }
        %td= task.duedate.strftime("%A, %B %e at %l:%M %p") unless task.duedate.nil?
        %td
          %strong= link_to task.name, task_path(task)
        %td= task.priority
        %td= link_to task.category.name, category_path(task.category)
        %td= time_ago_in_words task.seconds_spent.ago
        %td= link_to (task.complete ? 'Un-Complete' : 'Complete'), complete_task_path(task, show: false), method: :patch
        %td= link_to (task.turned_in ? 'Un-Turn In' : 'Turn-in'), turn_in_task_path(task, show: false), method: :patch
        %td= link_to 'Delete', task, method: :delete, data: { confirm: 'Are you sure?' }
